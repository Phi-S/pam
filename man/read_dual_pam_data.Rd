% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read_pam_data.R
\name{read_dual_pam_data}
\alias{read_dual_pam_data}
\title{Read and process raw pam data}
\usage{
read_dual_pam_data(
  csv_path,
  remove_recovery = TRUE,
  etr_factor = 0.84,
  p_ratio = 0.5
)
}
\arguments{
\item{csv_path}{A string representing the file path to the CSV file.}

\item{remove_recovery}{Automatic removal of recovery measurements after the actual Pi curve for an accurate regression. Default is \code{TRUE}.}

\item{etr_factor}{A numeric value used as a factor for calculating ETR. Default is \code{0.84}.}

\item{p_ratio}{A numeric value representing the ratio of PS II / PSI used in the ETR calculation formula. Default is \code{0.5}. \deqn{P-Ratio = (PPS2) / (PPS1+2)}}
}
\value{
A `data.table` containing the processed data with additional columns for recalculated ETR values.
}
\description{
This function reads the original csv file as created by the DualPAM software, processes it by calculating ETR values, and returns a cleaned dataset.
}
\details{
ETR  are calculated using the following formula:
\deqn{ETR = PAR * ETR-Factor * P-Ratio * Y}

The function processes the provided csv file by:
\itemize{
  \item Reading the csv data using `read.csv()`.
  \item Validating the data structure using `validate_data()`.
  \item Filtering rows where the column \code{ID} equals "SP".
  \item Combining the \code{Date} and \code{Time} columns to create a new \code{DateTime} column.
  \item Calculating the ETR values for both \code{Y.I.} and \code{Y.II.} using the function `calc_etr()`.
  \item Removing rows after the recovery period if \code{remove_recovery = TRUE}.
}
}
\examples{
# Example usage:
result <- read_dual_pam_data("path/to/data.csv", remove_recovery = TRUE, etr_factor = 0.84, p_ratio = 0.5)

}
\references{
Heinz Walz GmbH. (2024). DUAL-PAM-100 DUAL-PAM/F MANUAL, 5th Edition, April 2024, Chapter 7 (pp. 162-172).
Heinz Walz GmbH, Effeltrich, Germany. Available at:
\url{https://www.walz.com/files/downloads/manuals/dual-pam-100/DualPamEd05.pdf}
}
\seealso{
\code{\link{data.table}}, \code{\link{dplyr}}
}
